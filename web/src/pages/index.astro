---
import Layout from "../layouts/Layout.astro";
import theme from "../../../src/theme.js";
const { animation } = theme;
---

<Layout title="Welcome to Astro.">
  <main>
	<header class="max-w-4xl mx-auto flex items-center justify-center py-10 flex-col">
		<h1 class="font-semibold text-4xl">tailwind css animation</h1>
		<h2 class="font-medium opacity-70 pb-10">the plugin tailwind! =)</h2>
		<div>
		  <code >npm install @midudev/tailwindcss</code>
		</div>
	</header>
    <section class="max-5xl grid grid-cols-3 gap-4">
      {
        Object.keys(animation).map((singleAnimation) => (
          <article
            class="col-span-1 border rounded border-gray-150 hover:border-gray-400 hover:shadow transition cursor-crosshair"
            data-class={singleAnimation}
          >
            <div class="p-4 flex gap-4 items-center justify-center flex-col w-full h-full">
              <span class="w-16 h-16 bg-gray-200 rounded-md flex items-center justify-center">
              </span>
                <h3 class="font-semibold text-xs opacity-80">{singleAnimation}</h3>
            </div>
          </article>
        ))
      }
    </section>
  </main>
</Layout>

<script>
	const $articles= document.querySelectorAll('article');


	$articles.forEach(($article) => {
		const animationKey = $article.getAttribute('data-class')
		const animationClass = `animate-${animationKey}`
		const $box = $article.querySelector('span')

		if($box === null) return
		$article.addEventListener('mouseenter', () =>{
			$box.classList.add(animationClass)
		})

		$article.addEventListener('mouseleave', () =>{
			$box.classList.remove(animationClass)
		})

		
	});
</script>
